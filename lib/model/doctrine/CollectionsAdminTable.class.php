<?php
/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class CollectionsAdminTable extends DarwinTable
{

  public function getCollectionAdmin($collection_ref) 
  {
     $q = Doctrine_Query::create()
	    ->from('CollectionsAdmin ca')
	    ->innerJoin('ca.Users u')
	    ->andWhere('ca.collection_ref = ?',$collection_ref) ; 
    return $q->execute() ;  
  }
  
	public function getCollectionsByRight($user)
	{
	  $result = $this->findRights($user,'CollectionsAdmin') ;
	  $collections = array() ;
	  foreach($result as $rights)
	    $collections[] = $rights->getCollectionRef() ;
	  return $collections ;
	}  
}
